const USER_ROLES = Object.freeze({
  ADMIN: "ADMIN",
  MANAGER: "MANAGER",
  ASSISTANT_MANAGER: "ASSISTANT_MANAGER",
  TEAM_LEADER: "TEAM_LEADER",
  EXECUTIVE: "EXECUTIVE",
  FIELD_EXECUTIVE: "FIELD_EXECUTIVE",
  CHANNEL_PARTNER: "CHANNEL_PARTNER",
});

const MANAGEMENT_ROLES = Object.freeze([
  USER_ROLES.MANAGER,
  USER_ROLES.ASSISTANT_MANAGER,
  USER_ROLES.TEAM_LEADER,
]);

const EXECUTIVE_ROLES = Object.freeze([
  USER_ROLES.EXECUTIVE,
  USER_ROLES.FIELD_EXECUTIVE,
]);

const LEAD_MANAGEMENT_ROLES = Object.freeze([
  USER_ROLES.ADMIN,
  ...MANAGEMENT_ROLES,
]);

const ROLE_LABELS = Object.freeze({
  [USER_ROLES.ADMIN]: "Admin",
  [USER_ROLES.MANAGER]: "Manager",
  [USER_ROLES.ASSISTANT_MANAGER]: "Assistant Manager",
  [USER_ROLES.TEAM_LEADER]: "Team Leader",
  [USER_ROLES.EXECUTIVE]: "Executive",
  [USER_ROLES.FIELD_EXECUTIVE]: "Field Executive",
  [USER_ROLES.CHANNEL_PARTNER]: "Channel Partner",
});

const ROLE_PARENT_RULES = Object.freeze({
  [USER_ROLES.ADMIN]: [],
  [USER_ROLES.MANAGER]: [USER_ROLES.ADMIN],
  [USER_ROLES.ASSISTANT_MANAGER]: [USER_ROLES.MANAGER],
  [USER_ROLES.TEAM_LEADER]: [USER_ROLES.ASSISTANT_MANAGER],
  [USER_ROLES.EXECUTIVE]: [USER_ROLES.TEAM_LEADER],
  [USER_ROLES.FIELD_EXECUTIVE]: [USER_ROLES.TEAM_LEADER],
  [USER_ROLES.CHANNEL_PARTNER]: [USER_ROLES.ADMIN],
});

const AUTO_PARENT_POOL_BY_ROLE = Object.freeze({
  [USER_ROLES.MANAGER]: [USER_ROLES.ADMIN],
  [USER_ROLES.ASSISTANT_MANAGER]: [USER_ROLES.MANAGER],
  [USER_ROLES.TEAM_LEADER]: [USER_ROLES.ASSISTANT_MANAGER],
  [USER_ROLES.EXECUTIVE]: [USER_ROLES.TEAM_LEADER],
  [USER_ROLES.FIELD_EXECUTIVE]: [USER_ROLES.TEAM_LEADER],
  [USER_ROLES.CHANNEL_PARTNER]: [USER_ROLES.ADMIN],
});

const DEFAULT_DESCENDANT_DEPTH = 8;

const isManagementRole = (role) => MANAGEMENT_ROLES.includes(role);
const isExecutiveRole = (role) => EXECUTIVE_ROLES.includes(role);
const isLeadManagementRole = (role) => LEAD_MANAGEMENT_ROLES.includes(role);

const getAllowedParentRoles = (role) => ROLE_PARENT_RULES[role] || [];
const getAutoParentRoles = (role) => AUTO_PARENT_POOL_BY_ROLE[role] || [];

module.exports = {
  USER_ROLES,
  MANAGEMENT_ROLES,
  EXECUTIVE_ROLES,
  LEAD_MANAGEMENT_ROLES,
  ROLE_LABELS,
  ROLE_PARENT_RULES,
  AUTO_PARENT_POOL_BY_ROLE,
  DEFAULT_DESCENDANT_DEPTH,
  isManagementRole,
  isExecutiveRole,
  isLeadManagementRole,
  getAllowedParentRoles,
  getAutoParentRoles,
};
